# MCP Bridge 统一环境变量配置
# 复制此文件为 .env 并根据实际情况修改配置值

# 全局配置
ENVIRONMENT=production
DEBUG=false
TIMEZONE=Asia/Shanghai

# 服务器配置
SERVER_HOST=0.0.0.0
SERVER_PORT=8082
SERVER_WORKERS=1
LOG_LEVEL=info

# HTTP桥接配置
HTTP_BRIDGE_ENABLED=true
HTTP_BRIDGE_HOST=0.0.0.0
HTTP_BRIDGE_PORT=8083
HTTP_BRIDGE_TIMEOUT=30
HTTP_BRIDGE_MAX_RETRIES=3

# 工作流管理配置
WORKFLOW_MANAGEMENT_ENABLED=true
WORKFLOW_VALIDATION_ENABLED=true
WORKFLOW_STRICT_MODE=false
WORKFLOW_AUTO_FIX=true

# CapCut API配置
CAPCUT_API_URL=http://localhost:9000
CAPCUT_API_KEY=your_capcut_api_key_here
CAPCUT_API_TIMEOUT=30

# MCP服务配置
MCP_CAPCUT_URL=mcp://localhost:9002
MCP_CAPCUT_TIMEOUT=30
MCP_CAPCUT_RETRY_COUNT=3

# 缓存配置
CACHE_ENABLED=true
CACHE_TYPE=memory
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Redis配置（如果使用Redis缓存）
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# 监控配置
MONITORING_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_PORT=8084

# 安全配置
API_KEY_ENABLED=false
API_KEY_HEADER=X-API-Key
API_KEY=your_api_key_here
RATE_LIMITING_ENABLED=true
RATE_LIMITING_RPM=100

# CORS配置
CORS_ENABLED=true
CORS_ORIGINS=*

# Dify集成配置
DIFY_ENABLED=true
DIFY_WEBHOOK_URL=
DIFY_API_KEY=your_dify_api_key_here

# 日志配置
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/mcp_bridge.log
LOG_FILE_MAX_SIZE=100MB
LOG_FILE_MAX_FILES=10
LOG_CONSOLE_ENABLED=true

# 性能配置
CONNECTION_POOL_MAX_CONNECTIONS=100
CONNECTION_POOL_TIMEOUT=30
REQUEST_TIMEOUT=60
MAX_CONCURRENT_REQUESTS=50

# 降级配置
FALLBACK_ENABLED=true
FALLBACK_STRATEGY=round_robin
FALLBACK_MAX_FAILURES=3
FALLBACK_RECOVERY_TIME=60

# 工作流路径配置
WORKFLOW_TEMPLATES_PATH=./workflows/templates
WORKFLOW_CONFIGS_PATH=./workflows/configs
WORKFLOW_LOGS_PATH=./logs/workflows

# 数据库配置（如果需要）
DATABASE_URL=sqlite:///./mcp_bridge.db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20