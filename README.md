# CapCutAPI

è½»é‡ã€çµæ´»ã€æ˜“ä¸Šæ‰‹çš„å‰ªæ˜ /CapCutAPIå·¥å…·ï¼Œæ„å»ºå…¨è‡ªåŠ¨åŒ–è§†é¢‘å‰ªè¾‘/æ··å‰ªæµæ°´çº¿ã€‚

Lightweight, flexible, and easy-to-use CapCut API tool for building fully automated video editing pipelines.

Try It: https://www.capcutapi.top

```
ğŸ‘ğŸ‘ğŸ‘ğŸ‘ åº†ç¥github 600æ˜Ÿï¼Œé€å‡ºä»·å€¼6000ç‚¹ä¸è®°åäº‘æ¸²æŸ“åˆ¸ï¼š17740F41-5ECB-44B1-AAAE-1C458A0EFF43
```

## âš ï¸ **é‡è¦è®¿é—®è¯´æ˜**

**å¦‚æœæ‚¨åœ¨æœ¬åœ°Windowsæœºå™¨ä¸Šè®¿é—®æœåŠ¡ï¼Œè¯·æ³¨æ„ï¼š**

- âŒ **é”™è¯¯è®¿é—®æ–¹å¼**: `localhost:9000` æˆ– `127.0.0.1:9000`
- âœ… **æ­£ç¡®è®¿é—®æ–¹å¼**: `http://8.148.70.18:9000`

**åŸå› è¯´æ˜**: æœåŠ¡éƒ¨ç½²åœ¨è¿œç¨‹LinuxæœåŠ¡å™¨ä¸Šï¼Œ`localhost`æŒ‡å‘çš„æ˜¯æ‚¨æœ¬åœ°æœºå™¨ï¼Œè€Œä¸æ˜¯æœåŠ¡å™¨ã€‚

**æ­£ç¡®çš„è®¿é—®åœ°å€**:
- ğŸ  **ä¸»é¡µ**: http://8.148.70.18:9000
- ğŸ“Š **è‰ç¨¿ç®¡ç†**: http://8.148.70.18:9000/api/drafts/dashboard
- ğŸ¬ **è‰ç¨¿é¢„è§ˆ**: http://8.148.70.18:9000/draft/preview/[è‰ç¨¿ID]

---

## ğŸš€ **æœ€æ–°åŠŸèƒ½ä¼˜åŒ–** (NEW!)

### ğŸ¨ å®˜æ–¹é£æ ¼è‰ç¨¿é¢„è§ˆç•Œé¢ä¼˜åŒ– (v1.2.0)

#### ğŸ’« è®¾è®¡å‡çº§äº®ç‚¹ï¼š
- **ğŸ¨ å®˜æ–¹é£æ ¼è®¾è®¡**: é‡‡ç”¨å®˜æ–¹æ–‡æ¡£çš„æµ…è‰²ä¸»é¢˜ï¼Œæ›´ä¸“ä¸šã€æ›´ç°ä»£
- **ğŸ“± å“åº”å¼ç½‘æ ¼å¸ƒå±€**: ä½¿ç”¨CSS Gridæ›¿ä»£Flexboxï¼Œå®Œç¾é€‚é…å„ç§è®¾å¤‡
- **ğŸ” æ¸…æ™°çš„ä¿¡æ¯å±‚æ¬¡**: ä¼˜åŒ–çš„è§†è§‰å±‚æ¬¡ï¼Œæ›´æ˜“äºæ‰«æå’Œç†è§£
- **âš¡ å¢å¼ºçš„äº¤äº’ä½“éªŒ**: æ‚¬åœæ•ˆæœã€é€‰ä¸­çŠ¶æ€ã€å¹³æ»‘åŠ¨ç”»ç­‰äº¤äº’ä¼˜åŒ–
- **ğŸ¯ æ—¶é—´è½´å¯è§†åŒ–**: ç›´è§‚çš„æ—¶é—´è½´æ˜¾ç¤ºï¼Œç´ æä½ç½®ä¸€ç›®äº†ç„¶
- **ğŸ’¾ æ™ºèƒ½ä¸‹è½½ç®¡ç†**: ä¼˜åŒ–çš„ä¸‹è½½ç•Œé¢ï¼Œæ”¯æŒè·¯å¾„é…ç½®å’Œå¸®åŠ©ä¿¡æ¯

#### ğŸŒŸ è§†è§‰é£æ ¼æ”¹è¿›ï¼š
- **é…è‰²æ–¹æ¡ˆ**: å®˜æ–¹è“è‰²ä¸»è‰²è°ƒ (#0066cc)ï¼Œæµ…è‰²èƒŒæ™¯ (#f5f5f5)
- **å¡ç‰‡è®¾è®¡**: ç™½è‰²å¡ç‰‡èƒŒæ™¯ï¼Œå¾®å¦™çš„é˜´å½±æ•ˆæœï¼Œåœ†è§’è®¾è®¡
- **å­—ä½“ä¼˜åŒ–**: ç³»ç»Ÿå­—ä½“æ ˆï¼Œç­‰å®½å­—ä½“ç”¨äºä»£ç å’Œæ—¶é—´æ˜¾ç¤º
- **é—´è·ç»Ÿä¸€**: 24pxæ ‡å‡†é—´è·ï¼Œæ›´èˆ’é€‚çš„è§†è§‰ä½“éªŒ

#### ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹ï¼š
- **CSS Gridå¸ƒå±€**: ç°ä»£å¸ƒå±€æŠ€æœ¯ï¼Œæ›´å¥½çš„å“åº”å¼æ§åˆ¶
- **æ€§èƒ½ä¼˜åŒ–**: å‡å°‘é‡ç»˜å’Œå›æµï¼Œä¼˜åŒ–åŠ¨ç”»æ€§èƒ½
- **æ— éšœç¢è®¾è®¡**: åˆç†çš„é¢œè‰²å¯¹æ¯”åº¦ï¼Œæ¸…æ™°çš„è§†è§‰å±‚æ¬¡
- **ä»£ç è´¨é‡**: æ¨¡å—åŒ–CSSï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•

### è‰ç¨¿ä¸‹è½½å’Œé¢„è§ˆåŠŸèƒ½å…¨é¢å‡çº§ (v1.1.0)

#### ğŸ’« ä¼˜åŒ–äº®ç‚¹ï¼š
- **ğŸ¨ å…¨æ–°è§†è§‰è®¾è®¡**: ç°ä»£åŒ–æš—è‰²ä¸»é¢˜ï¼Œä¸“ä¸šè§†é¢‘ç¼–è¾‘ä½“éªŒ
- **âš¡ æ™ºèƒ½ä¸‹è½½æµç¨‹**: è‡ªåŠ¨æ£€æµ‹äº‘ç«¯æ–‡ä»¶ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
- **ğŸ“± å“åº”å¼è®¾è®¡**: å®Œç¾é€‚é…æ¡Œé¢ç«¯ã€å¹³æ¿å’Œæ‰‹æœº
- **ğŸ”„ å®æ—¶çŠ¶æ€ç›‘æ§**: ä¸‹è½½è¿›åº¦å®æ—¶æ˜¾ç¤ºï¼Œä»»åŠ¡çŠ¶æ€é€æ˜åŒ–
- **ğŸ“Š å¯è§†åŒ–é¢„è§ˆ**: äº¤äº’å¼æ—¶é—´è½´ï¼Œç´ æè¯¦æƒ…åŠ¨æ€å±•ç¤º
- **ğŸ¯ å¤šå¹³å°æ”¯æŒ**: Windowsã€Linuxã€macOSè·¯å¾„æ™ºèƒ½é€‚é…

#### ğŸ†• æ–°å¢åŠŸèƒ½ï¼š
1. **è‰ç¨¿ç®¡ç†ä»ªè¡¨æ¿** (`/api/drafts/dashboard`)
   - é›†ä¸­ç®¡ç†æ‰€æœ‰è‰ç¨¿
   - æ”¯æŒæ‰¹é‡ä¸‹è½½æ“ä½œ
   - å®æ—¶ç»Ÿè®¡å’Œæœç´¢åŠŸèƒ½

2. **æ‰¹é‡ä¸‹è½½API** (`/api/drafts/batch-download`)
   - ä¸€é”®ä¸‹è½½å¤šä¸ªè‰ç¨¿
   - å¹¶å‘å¤„ç†ï¼Œæå‡æ•ˆç‡
   - è¯¦ç»†çš„æˆåŠŸ/å¤±è´¥æŠ¥å‘Š

3. **è‰ç¨¿åˆ—è¡¨API** (`/api/drafts/list`)
   - è‡ªåŠ¨æ‰«ææœ¬åœ°å’Œäº‘ç«¯è‰ç¨¿
   - å¤šæ•°æ®æºæ•´åˆå±•ç¤º
   - å®Œæ•´çš„å…ƒæ•°æ®ä¿¡æ¯

#### ğŸŒŸ å¢å¼ºçš„é¡µé¢ï¼š
- **`/draft/preview/<draft_id>`**: æ²‰æµ¸å¼é¢„è§ˆä½“éªŒ
- **`/draft/downloader`**: æ™ºèƒ½ä¸‹è½½ä¸­å¿ƒ
- **`/`**: ç¾è§‚çš„æ¬¢è¿é¡µé¢

#### ğŸ”§ æŠ€æœ¯æ”¹è¿›ï¼š
- ä¼˜åŒ–äº†è‰ç¨¿çŠ¶æ€æŸ¥è¯¢é€»è¾‘
- å¢å¼ºäº†é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
- æ”¹è¿›äº†OSSäº‘å­˜å‚¨é›†æˆ
- æ·»åŠ äº†è°ƒè¯•å’Œç›‘æ§æ¥å£

#### ğŸ“ è®¿é—®æ–°åŠŸèƒ½ï¼š
```bash
# è‰ç¨¿ç®¡ç†ä»ªè¡¨æ¿
http://8.148.70.18:9000/api/drafts/dashboard

# è‰ç¨¿é¢„è§ˆé¡µé¢ï¼ˆç¤ºä¾‹ï¼‰
http://8.148.70.18:9000/draft/preview/dfd_cat_1756104121_cb774809

# è‰ç¨¿ä¸‹è½½é¡µé¢ï¼ˆç¤ºä¾‹ï¼‰
http://8.148.70.18:9000/draft/downloader?draft_id=dfd_cat_1756104121_cb774809
```

---

## æœåŠ¡å™¨éƒ¨ç½²ä¿¡æ¯

**å½“å‰æœåŠ¡å™¨éƒ¨ç½²åœ°å€**: http://8.148.70.18:9000

**éƒ¨ç½²çŠ¶æ€**: âœ… å·²éƒ¨ç½²å¹¶è¿è¡Œä¸­

**é‡è¦é…ç½®æ›´æ–°**:
- ğŸ“ **è‰ç¨¿ä¿å­˜æ¨¡å¼**: å·²åˆ‡æ¢è‡³OSSäº‘å­˜å‚¨æ¨¡å¼
- â˜ï¸ **äº‘å­˜å‚¨**: è‡ªåŠ¨ä¸Šä¼ è‡³é˜¿é‡Œäº‘OSSï¼ŒèŠ‚çœæœ¬åœ°å­˜å‚¨ç©ºé—´
- ğŸ”— **è¿”å›æ ¼å¼**: è‰ç¨¿ä¿å­˜åè¿”å›å¯ä¸‹è½½çš„äº‘ç«¯URL

**è®¿é—®æ–¹å¼**:
- ğŸŒ **æµè§ˆå™¨è®¿é—®**: ç›´æ¥è®¿é—® http://8.148.70.18:9000 æŸ¥çœ‹ç¾è§‚çš„æ¬¢è¿é¡µé¢
- ğŸ”§ **APIè°ƒç”¨**: ä½¿ç”¨ `Accept: application/json` å¤´è·å–JSONæ ¼å¼çš„APIä¿¡æ¯
- ğŸ“– **è¯¦ç»†æ–‡æ¡£**: æŸ¥çœ‹ `API_USAGE_EXAMPLES.md` è·å–å®Œæ•´ä½¿ç”¨è¯´æ˜

**æœåŠ¡ç®¡ç†å‘½ä»¤**:
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
sudo systemctl status capcutapi.service

# å¯åŠ¨æœåŠ¡
sudo systemctl start capcutapi.service

# åœæ­¢æœåŠ¡
sudo systemctl stop capcutapi.service

# é‡å¯æœåŠ¡
sudo systemctl restart capcutapi.service

# æŸ¥çœ‹æ—¥å¿—
tail -f logs/capcutapi.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/capcutapi.error.log

# ä½¿ç”¨ç®¡ç†è„šæœ¬
./service_manager.sh status
./service_manager.sh restart
./service_manager.sh logs
./service_manager.sh test
```

## Gallery

**MCP agent**

[![AI Cut](https://img.youtube.com/vi/fBqy6WFC78E/hqdefault.jpg)](https://www.youtube.com/watch?v=fBqy6WFC78E)

**Connect AI generated via CapCutAPI**

[![Airbnb](https://img.youtube.com/vi/1zmQWt13Dx0/hqdefault.jpg)](https://www.youtube.com/watch?v=1zmQWt13Dx0)

[![Horse](https://img.youtube.com/vi/IF1RDFGOtEU/hqdefault.jpg)](https://www.youtube.com/watch?v=IF1RDFGOtEU)

[![Song](https://img.youtube.com/vi/rGNLE_slAJ8/hqdefault.jpg)](https://www.youtube.com/watch?v=rGNLE_slAJ8)

## ğŸ“š æ–‡æ¡£å¯¼èˆª | Documentation

### æ ¸å¿ƒæ–‡æ¡£ | Core Documentation
- [ğŸ“‹ éœ€æ±‚æ–‡æ¡£](docs/REQUIREMENTS_DOCUMENT.md) - è¯¦ç»†çš„åŠŸèƒ½éœ€æ±‚å’ŒæŠ€æœ¯è§„æ ¼ | Detailed requirements and specifications
- [ğŸ“– æ“ä½œæ‰‹å†Œ](docs/OPERATION_MANUAL.md) - å®Œæ•´çš„æ“ä½œæŒ‡å—å’Œæœ€ä½³å®è·µ | Complete operation guide and best practices
- [ğŸš€ åŠŸèƒ½ä¼˜åŒ–æ€»ç»“](docs/FEATURE_OPTIMIZATION_SUMMARY.md) - æœ€æ–°åŠŸèƒ½æ›´æ–°å’Œä¼˜åŒ–è®°å½• | Latest feature updates and optimization records
- [ğŸ”§ æ•…éšœæ’é™¤æŒ‡å—](docs/TROUBLESHOOTING.md) - å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ | Common issues and solutions
- [ğŸ› ï¸ APIä½¿ç”¨ç¤ºä¾‹](docs/API_USAGE_EXAMPLES.md) - å®Œæ•´çš„APIè°ƒç”¨ç¤ºä¾‹ | Complete API usage examples

### éƒ¨ç½²ä¸æŠ€æœ¯æ–‡æ¡£ | Deployment & Technical Documentation
- [ğŸš€ éƒ¨ç½²æ€»ç»“](docs/CapCutAPIéƒ¨ç½²æ€»ç»“.md) - æœåŠ¡å™¨éƒ¨ç½²å’Œé…ç½®ä¿¡æ¯ | Server deployment and configuration
- [âš™ï¸ æŠ€æœ¯æ–‡æ¡£](docs/CLAUDE.md) - é¡¹ç›®æ¶æ„å’ŒæŠ€æœ¯å®ç° | Project architecture and technical implementation
- [ğŸ” æ•°æ®æµåˆ†æ](docs/CapCutAPI_æ•°æ®æµåˆ†ææ–‡æ¡£.md) - ç³»ç»Ÿæ•°æ®æµå’Œå¤„ç†é€»è¾‘åˆ†æ | System data flow and processing logic analysis
- [ğŸ› ï¸ è·¨å¹³å°ç´ æè¯†åˆ«](docs/CapCutAPI_è·¨å¹³å°ç´ æè¯†åˆ«é—®é¢˜è§£å†³æ–¹æ¡ˆ.md) - è·¨å¹³å°å…¼å®¹æ€§è§£å†³æ–¹æ¡ˆ | Cross-platform compatibility solutions
- [â˜ï¸ OSSç´ æè¯†åˆ«ä¿®å¤](docs/OSS_Material_Recognition_Fix_Report.md) - OSSäº‘å­˜å‚¨ç´ æè¯†åˆ«é—®é¢˜ä¿®å¤ | OSS cloud storage material recognition fixes
- [ğŸŒ æµè§ˆå™¨å·¥å…·æµ‹è¯•](docs/BROWSER_TOOLS_TEST_REPORT.md) - æµè§ˆå™¨å·¥å…·åŠŸèƒ½æµ‹è¯•æŠ¥å‘Š | Browser tools functionality test report

### å†å²æ–‡æ¡£ | Archive
- [ğŸ“ archive/](archive/) - æŠ€æœ¯æŠ¥å‘Šå’Œå†å²æ–‡æ¡£ | Technical reports and historical documents
  - æ•°æ®æµåˆ†ææ–‡æ¡£
  - è·¨å¹³å°ç´ æè¯†åˆ«é—®é¢˜è§£å†³æ–¹æ¡ˆ
  - OSSç´ æè¯†åˆ«ä¿®å¤æŠ¥å‘Š
  - æµè§ˆå™¨å·¥å…·æµ‹è¯•æŠ¥å‘Š

## é¡¹ç›®åŠŸèƒ½ | Project Features

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºPythonçš„å‰ªæ˜ /CapCutå¤„ç†å·¥å…·ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

This project is a Python-based CapCut processing tool that offers the following core functionalities:

### æ ¸å¿ƒåŠŸèƒ½ | Core Features

- **è‰ç¨¿æ–‡ä»¶ç®¡ç† | Draft File Management**: åˆ›å»ºã€è¯»å–ã€ä¿®æ”¹å’Œä¿å­˜å‰ªæ˜ /CapCutè‰ç¨¿æ–‡ä»¶ | Create, read, modify, and save CapCut draft files
- **ç´ æå¤„ç† | Material Processing**: æ”¯æŒè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ã€æ–‡æœ¬ã€è´´çº¸ç­‰å¤šç§ç´ æçš„æ·»åŠ å’Œç¼–è¾‘ | Support adding and editing various materials such as videos, audios, images, texts, stickers, etc.
- **ç‰¹æ•ˆåº”ç”¨ | Effect Application**: æ”¯æŒæ·»åŠ è½¬åœºã€æ»¤é•œã€è’™ç‰ˆã€åŠ¨ç”»ç­‰å¤šç§ç‰¹æ•ˆ | Support adding multiple effects like transitions, filters, masks, animations, etc.
- **APIæœåŠ¡ | API Service**: æä¾›HTTP APIæ¥å£ï¼Œæ”¯æŒè¿œç¨‹è°ƒç”¨å’Œè‡ªåŠ¨åŒ–å¤„ç† | Provide HTTP API interfaces to support remote calls and automated processing
- **AIé›†æˆ | AI Integration**: é›†æˆå¤šç§AIæœåŠ¡ï¼Œæ”¯æŒæ™ºèƒ½ç”Ÿæˆå­—å¹•ã€æ–‡æœ¬å’Œå›¾åƒ | Integrate multiple AI services to support intelligent generation of subtitles, texts, and images

### ä¸»è¦APIæ¥å£ | Main API Interfaces

- `/create_draft`: åˆ›å»ºè‰ç¨¿ | Create a draft
- `/add_video`: æ·»åŠ è§†é¢‘ç´ æåˆ°è‰ç¨¿ | Add video material to the draft
- `/add_audio`: æ·»åŠ éŸ³é¢‘ç´ æåˆ°è‰ç¨¿ | Add audio material to the draft
- `/add_image`: æ·»åŠ å›¾ç‰‡ç´ æåˆ°è‰ç¨¿ | Add image material to the draft
- `/add_text`: æ·»åŠ æ–‡æœ¬ç´ æåˆ°è‰ç¨¿ | Add text material to the draft
- `/add_subtitle`: æ·»åŠ å­—å¹•åˆ°è‰ç¨¿ | Add subtitles to the draft
- `/add_effect`: æ·»åŠ ç‰¹æ•ˆåˆ°ç´ æ | Add effects to materials
- `/add_sticker`: æ·»åŠ è´´çº¸åˆ°è‰ç¨¿ | Add stickers to the draft
- `/save_draft`: ä¿å­˜è‰ç¨¿æ–‡ä»¶ | Save the draft file

## å¿«é€Ÿéƒ¨ç½²æŒ‡å—

### è‡ªåŠ¨éƒ¨ç½²

1. ç¡®ä¿æœåŠ¡å™¨å·²å®‰è£…Python3.9å’Œffmpeg
2. è¿è¡Œéƒ¨ç½²è„šæœ¬ï¼š
```bash
chmod +x deploy.sh
./deploy.sh
```

### æ‰‹åŠ¨éƒ¨ç½²

#### ç¯å¢ƒè¦æ±‚

- Python 3.8.20 æˆ–æ›´é«˜ç‰ˆæœ¬
- ffmpeg
- ç³»ç»Ÿæ”¯æŒsystemdæœåŠ¡ç®¡ç†

#### éƒ¨ç½²æ­¥éª¤

1. **å®‰è£…ä¾èµ–**
```bash
# å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# å®‰è£…ffmpeg (CentOS/RHEL)
sudo yum install -y epel-release
sudo yum install -y ffmpeg

# æˆ–å®‰è£…ffmpeg (Ubuntu/Debian)
sudo apt-get update
sudo apt-get install -y ffmpeg
```

2. **é…ç½®æœåŠ¡**
```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config.json.example config.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®ç«¯å£ä¸º9000
vim config.json
```

3. **å¯åŠ¨æœåŠ¡**
```bash
# ç›´æ¥å¯åŠ¨
python capcut_server.py

# æˆ–ä½¿ç”¨systemdæœåŠ¡
sudo systemctl start capcutapi.service
```

## Configuration Instructions

### Configuration File

The project supports custom settings through a configuration file. To use the configuration file:

1. Copy `config.json.example` to `config.json`
2. Modify the configuration items as needed

```bash
cp config.json.example config.json
```

### è‰ç¨¿ä¿å­˜æ¨¡å¼é…ç½®

é¡¹ç›®æ”¯æŒä¸¤ç§è‰ç¨¿ä¿å­˜æ¨¡å¼ï¼Œé€šè¿‡ `config.json` ä¸­çš„ `is_upload_draft` å­—æ®µæ§åˆ¶ï¼š

#### OSSäº‘å­˜å‚¨æ¨¡å¼ï¼ˆå½“å‰å¯ç”¨ï¼‰
```json
{
  "is_upload_draft": true
}
```
**ç‰¹ç‚¹**ï¼š
- âœ… è‰ç¨¿è‡ªåŠ¨å‹ç¼©ä¸ºzipæ ¼å¼ä¸Šä¼ è‡³é˜¿é‡Œäº‘OSS
- âœ… è¿”å›å¯ä¸‹è½½çš„äº‘ç«¯URL
- âœ… è‡ªåŠ¨æ¸…ç†æœ¬åœ°ä¸´æ—¶æ–‡ä»¶ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒå’Œå¤šç”¨æˆ·åœºæ™¯
- âœ… æ”¯æŒWindowså®¢æˆ·ç«¯è·¯å¾„è‡ªåŠ¨é…ç½®

#### æœ¬åœ°ä¿å­˜æ¨¡å¼
```json
{
  "is_upload_draft": false
}
```
**ç‰¹ç‚¹**ï¼š
- ğŸ“ è‰ç¨¿ä¿å­˜åœ¨æœ¬åœ°ç›®å½•ä¸­
- ğŸ’¾ ä¸ä¼šä¸Šä¼ åˆ°äº‘ç«¯
- ğŸ”§ é€‚åˆå¼€å‘æµ‹è¯•å’Œå•æœºä½¿ç”¨

### Windowså®¢æˆ·ç«¯è·¯å¾„é…ç½® ğŸªŸ

#### è‡ªåŠ¨è·¯å¾„è¯†åˆ«
ç³»ç»Ÿç°å·²æ”¯æŒå®¢æˆ·ç«¯æ“ä½œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«ï¼Œç¡®ä¿Windowså®¢æˆ·ç«¯èƒ½æ­£ç¡®è¯†åˆ«ç´ æè·¯å¾„ï¼š

**å®¢æˆ·ç«¯è°ƒç”¨ç¤ºä¾‹**ï¼š
```json
{
  "draft_id": "your_draft_id",
  "client_os": "windows"
}
```

#### è‡ªå®šä¹‰è·¯å¾„é…ç½®
ç”¨æˆ·å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼é…ç½®è‡ªå®šä¹‰ä¸‹è½½è·¯å¾„ï¼š

**1. é€šè¿‡APIé…ç½®**ï¼š
```bash
# è®¾ç½®è‡ªå®šä¹‰è·¯å¾„
curl -X POST http://8.148.70.18:9000/api/draft/path/config \
  -H "Content-Type: application/json" \
  -d '{"custom_path": "F:\\jianying\\cgwz\\JianyingPro Drafts"}'

# è·å–å½“å‰é…ç½®
curl -X GET http://8.148.70.18:9000/api/draft/path/config
```

**2. é€šè¿‡æ–‡ä»¶é…ç½®**ï¼š
åˆ›å»ºæˆ–ä¿®æ”¹ `path_config.json` æ–‡ä»¶ï¼š
```json
{
  "custom_download_path": "F:\\jianying\\cgwz\\JianyingPro Drafts"
}
```

#### è·¯å¾„ä¼˜å…ˆçº§
ç³»ç»ŸæŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§é€‰æ‹©è‰ç¨¿è·¯å¾„ï¼š
1. **APIä¼ å…¥çš„ draft_folder å‚æ•°**ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰
2. **ç”¨æˆ·è‡ªå®šä¹‰è·¯å¾„**ï¼ˆpath_config.json ä¸­çš„é…ç½®ï¼‰
3. **å®¢æˆ·ç«¯æ“ä½œç³»ç»Ÿé»˜è®¤è·¯å¾„**ï¼ˆæ ¹æ® client_os å‚æ•°ï¼‰
4. **æœåŠ¡å™¨æ“ä½œç³»ç»Ÿé»˜è®¤è·¯å¾„**ï¼ˆå…œåº•æ–¹æ¡ˆï¼‰

#### Windowsè·¯å¾„æ ¼å¼
- âœ… æ”¯æŒWindowsæ ‡å‡†è·¯å¾„æ ¼å¼ï¼š`F:\jianying\cgwz\JianyingPro Drafts`
- âœ… è‡ªåŠ¨å¤„ç†è·¯å¾„åˆ†éš”ç¬¦è½¬æ¢ï¼ˆ`/` â†’ `\`ï¼‰
- âœ… ç¡®ä¿è‰ç¨¿æ–‡ä»¶ä¸­çš„ç´ æè·¯å¾„ä¸ºWindowsæœ¬åœ°ç»å¯¹è·¯å¾„
- âœ… å‰ªæ˜ å®¢æˆ·ç«¯å¯ç›´æ¥è¯†åˆ«å’Œé“¾æ¥ç´ æ

### Environment Configuration

#### ffmpeg

This project depends on ffmpeg. You need to ensure that ffmpeg is installed on your system and added to the system's environment variables.

#### Python Environment

This project requires Python version 3.8.20. Please ensure that the correct version of Python is installed on your system.

#### Install Dependencies

Install the required dependency packages for the project:

```bash
pip install -r requirements.txt
```

### Run the Server

After completing the configuration and environment setup, execute the following command to start the server:

```bash
python capcut_server.py
```

Once the server is started, you can access the related functions through the API interfaces.

## Usage Examples

### Adding a Video

```python
import requests

response = requests.post("http://8.148.70.18:9000/add_video", json={
    "video_url": "http://example.com/video.mp4",
    "start": 0,
    "end": 10,
    "width": 1080,
    "height": 1920
})

print(response.json())
```

### Adding Text

```python
import requests

response = requests.post("http://8.148.70.18:9000/add_text", json={
    "text": "Hello, World!",
    "start": 0,
    "end": 3,
    "font": "ZY_Courage",
    "font_color": "#FF0000",
    "font_size": 30.0
})

print(response.json())
```

### Saving a Draft

```python
import requests

response = requests.post("http://8.148.70.18:9000/save_draft", json={
    "draft_id": "123456",
    "draft_folder": "your capcut draft folder"
})

print(response.json())
```
You can also use the ```rest_client_test.http``` file of the REST Client for HTTP testing. Just need to install the corresponding IDE plugin

### Copying the Draft to CapCut Draft Path

Calling `save_draft` will generate a folder starting with `dfd_` in the current directory of the server. Copy this folder to the CapCut draft directory, and you will be able to see the generated draft.

### More Examples

Please refer to the `example.py` file in the project, which contains more usage examples such as adding audio and effects.

## é¡¹ç›®ç‰¹ç‚¹ | Project Features

- **è·¨å¹³å°æ”¯æŒ | Cross-platform Support**: åŒæ—¶æ”¯æŒå‰ªæ˜ å’ŒCapCutå›½é™…ç‰ˆ | Supports both CapCut China version and CapCut International version
- **è‡ªåŠ¨åŒ–å¤„ç† | Automated Processing**: æ”¯æŒæ‰¹é‡å¤„ç†å’Œè‡ªåŠ¨åŒ–å·¥ä½œæµ | Supports batch processing and automated workflows
- **ä¸°å¯Œçš„API | Rich APIs**: æä¾›å…¨é¢çš„APIæ¥å£ï¼Œæ–¹ä¾¿é›†æˆåˆ°å…¶ä»–ç³»ç»Ÿ | Provides comprehensive API interfaces for easy integration into other systems
- **çµæ´»çš„é…ç½® | Flexible Configuration**: é€šè¿‡é…ç½®æ–‡ä»¶å®ç°çµæ´»çš„åŠŸèƒ½å®šåˆ¶ | Achieve flexible function customization through configuration files
- **AIå¢å¼º | AI Enhancement**: é›†æˆå¤šç§AIæœåŠ¡ï¼Œæå‡è§†é¢‘åˆ¶ä½œæ•ˆç‡ | Integrate multiple AI services to improve video production efficiency

## å®‰å…¨ä¸ç¯å¢ƒå˜é‡é…ç½®ï¼ˆæ¨èï¼‰

ä¸ºé¿å…åœ¨`config.json`ä¸­ç¡¬ç¼–ç æ•æ„Ÿå¯†é’¥ï¼Œå·²æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–ä»¥ä¸‹å­—æ®µï¼ˆç¨‹åºå¯åŠ¨æ—¶ä¼˜å…ˆä½¿ç”¨ç¯å¢ƒå˜é‡ï¼‰ï¼š

- OSSï¼ˆè‰ç¨¿å‹ç¼©åŒ…ä¸Šä¼ ï¼‰
  - `OSS_BUCKET_NAME`
  - `OSS_ACCESS_KEY_ID`
  - `OSS_ACCESS_KEY_SECRET`
  - `OSS_ENDPOINT`ï¼ˆå½¢å¦‚`oss-cn-xxx.aliyuncs.com`æˆ–å¸¦`https://`çš„å®Œæ•´åŸŸåï¼‰
  - `OSS_REGION`ï¼ˆå¦‚ï¼š`cn-xxx`ï¼‰

- MP4 OSSï¼ˆè§†é¢‘ç›´é“¾åŸŸåï¼‰
  - `MP4_OSS_BUCKET_NAME`
  - `MP4_OSS_ACCESS_KEY_ID`
  - `MP4_OSS_ACCESS_KEY_SECRET`
  - `MP4_OSS_ENDPOINT`ï¼ˆå»ºè®®ä¸ºè‡ªå®šä¹‰åŠ é€ŸåŸŸåï¼Œç›´æ¥ç”¨äºæ‹¼æ¥ç›´é“¾ï¼‰
  - `MP4_OSS_REGION`

ä½¿ç”¨ç¤ºä¾‹ï¼ˆä¸´æ—¶å¯¼å‡ºï¼Œä»…å¯¹å½“å‰ä¼šè¯ç”Ÿæ•ˆï¼‰ï¼š

```bash
export OSS_BUCKET_NAME="your-bucket"
export OSS_ACCESS_KEY_ID="xxx"
export OSS_ACCESS_KEY_SECRET="yyy"
export OSS_ENDPOINT="oss-cn-xxx.aliyuncs.com"
export OSS_REGION="cn-xxx"

export MP4_OSS_BUCKET_NAME="your-mp4-bucket"
export MP4_OSS_ACCESS_KEY_ID="xxx"
export MP4_OSS_ACCESS_KEY_SECRET="yyy"
export MP4_OSS_ENDPOINT="https://your.cdn.domain"
export MP4_OSS_REGION="cn-xxx"
```

ç”Ÿäº§ç¯å¢ƒå»ºè®®é€šè¿‡ systemd é…ç½®ç¯å¢ƒå˜é‡ï¼ˆ`/etc/systemd/system/capcut-api.service` ä¸­æ·»åŠ  `Environment=` è¡Œï¼‰æˆ–ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼Œå¹¶åŠæ—¶è½®æ¢å·²æš´éœ²çš„å¯†é’¥ã€‚

## æŒ‡å®š Python ç‰ˆæœ¬

æœ¬é¡¹ç›®å»ºè®®ä½¿ç”¨ `/usr/local/bin/python3.9` è¿è¡Œï¼Œä»¥è·å¾—æ›´ç¨³å®šçš„ä¸€è‡´æ€§ï¼š

```bash
/usr/local/bin/python3.9 capcut_server.py
```

å¦‚ä½¿ç”¨ `service_manager.sh`ï¼Œå¯æ‰‹åŠ¨ä¿®æ”¹ä¸ºä¼˜å…ˆä½¿ç”¨è¯¥ Python è·¯å¾„ï¼Œæˆ–ç¡®ä¿è™šæ‹Ÿç¯å¢ƒåŸºäº Python 3.9 åˆ›å»ºå¹¶å·²å®‰è£…ä¾èµ–ã€‚

## æ•ˆæœæ¼”ç¤º | Demo

ğŸ“º **è§†é¢‘æ¼”ç¤º**: [CapCutAPI åŠŸèƒ½æ¼”ç¤º](https://www.bilibili.com/video/BV1234567890)

## ğŸ”§ æ•…éšœæ’é™¤ | Troubleshooting

é‡åˆ°é—®é¢˜ï¼Ÿä¸è¦æ…Œï¼æˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡äº†å®Œæ•´çš„æ•…éšœæ’é™¤æŒ‡å—ï¼š

### ğŸ“‹ å¿«é€Ÿè¯Šæ–­

```bash
# è¿è¡Œä¸€é”®è¯Šæ–­è„šæœ¬
./diagnose.sh
```

### ğŸ“š è¯¦ç»†æŒ‡å—

æŸ¥çœ‹å®Œæ•´çš„æ•…éšœæ’é™¤æ–‡æ¡£ï¼š[docs/TROUBLESHOOTING.md](docs/TROUBLESHOOTING.md)

**åŒ…å«ä»¥ä¸‹å¸¸è§é—®é¢˜çš„è§£å†³æ–¹æ¡ˆ**ï¼š
- âŒ è¿æ¥è¢«æ‹’ç»æˆ–æ— æ³•è®¿é—®
- ğŸš« è‰ç¨¿é¢„è§ˆé¡µé¢æ— æ³•æ‰“å¼€
- âš ï¸ ERR_ABORTED é”™è¯¯ï¼ˆæ¨¡æ¿æ¸²æŸ“å¤±è´¥ï¼‰
- ğŸ”„ æœåŠ¡å¯åŠ¨å¤±è´¥
- ğŸ“ æ¨¡æ¿å’Œé™æ€æ–‡ä»¶é—®é¢˜
- ğŸŒ ç½‘ç»œè¿æ¥é—®é¢˜

### ğŸ†˜ ç´§æ€¥æ±‚åŠ©

å¦‚æœé—®é¢˜ä»æœªè§£å†³ï¼š
1. è¿è¡Œ `./diagnose.sh` è·å–è¯Šæ–­ä¿¡æ¯
2. æŸ¥çœ‹ [æ•…éšœæ’é™¤æŒ‡å—](docs/TROUBLESHOOTING.md)
3. åœ¨ [GitHub Issues](https://github.com/sun-guannan/CapCutAPI/issues) æäº¤é—®é¢˜

## è¿›ç¾¤äº¤æµ | Community

ğŸ”¥ **å¾®ä¿¡ç¾¤**: æ‰«ç åŠ å…¥æŠ€æœ¯äº¤æµç¾¤

![å¾®ä¿¡ç¾¤äºŒç»´ç ](https://example.com/wechat-qr.png)

## åˆä½œè”ç³» | Contact

ğŸ“§ **å•†åŠ¡åˆä½œ**: business@capcutapi.com  
ğŸ› **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/sun-guannan/CapCutAPI/issues)  
ğŸ“– **æ–‡æ¡£æ›´æ–°**: æŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿è´¡çŒ®

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStaræ”¯æŒä¸€ä¸‹ï¼**

**â­ If this project helps you, please give it a Star!**
